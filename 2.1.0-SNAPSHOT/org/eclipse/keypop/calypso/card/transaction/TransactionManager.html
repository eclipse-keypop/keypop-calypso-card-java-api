<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>TransactionManager (Keypop Calypso Card API - 2.1.0-SNAPSHOT)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: org.eclipse.keypop.calypso.card.transaction, interface: TransactionManager">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<div class="about-language"><div style="margin-top: 7px"><span></span> Keypop Calypso Card API - 2.1.0-SNAPSHOT</div></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/TransactionManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.eclipse.keypop.calypso.card.transaction</a></div>
<h1 title="Interface TransactionManager" class="title">Interface TransactionManager&lt;T extends TransactionManager&lt;T&gt;&gt;</h1>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>T</code> - The type of the lowest level child object.</dd>
</dl>
<dl class="notes">
<dt>All Known Subinterfaces:</dt>
<dd><code><a href="FreeTransactionManager.html" title="interface in org.eclipse.keypop.calypso.card.transaction">FreeTransactionManager</a></code>, <code><a href="SecureExtendedModeTransactionManager.html" title="interface in org.eclipse.keypop.calypso.card.transaction">SecureExtendedModeTransactionManager</a></code>, <code><a href="SecurePkiModeTransactionManager.html" title="interface in org.eclipse.keypop.calypso.card.transaction">SecurePkiModeTransactionManager</a></code>, <code><a href="SecureRegularModeTransactionManager.html" title="interface in org.eclipse.keypop.calypso.card.transaction">SecureRegularModeTransactionManager</a></code>, <code><a href="SecureSymmetricCryptoTransactionManager.html" title="interface in org.eclipse.keypop.calypso.card.transaction">SecureSymmetricCryptoTransactionManager</a>&lt;T&gt;</code>, <code><a href="SecureTransactionManager.html" title="interface in org.eclipse.keypop.calypso.card.transaction">SecureTransactionManager</a>&lt;T&gt;</code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public interface </span><span class="element-name type-name-label">TransactionManager&lt;T extends TransactionManager&lt;T&gt;&gt;</span></div>
<div class="block">Contains operations common to all card transactions.

 <p>To exchange data with the card, it is first necessary to prepare the commands to be
 transmitted to the card and then to process the prepared commands via the <a href="#processCommands(org.eclipse.keypop.calypso.card.transaction.ChannelControl)"><code>processCommands(ChannelControl)</code></a> method.

 <p>The card commands preparation step makes it possible to group commands together in order to
 minimize network data exchanges (especially useful in a distributed architecture).

 <p>The <a href="../card/CalypsoCard.html" title="interface in org.eclipse.keypop.calypso.card.card"><code>CalypsoCard</code></a> object registered with the manager is updated during the transaction
 after each data exchange with the card.

 <p>For all "prepare" type commands, unless otherwise specified, here are the ranges of values
 checked for the various parameters:

 <ul>
   <li>SFI: [0..30] (0 indicates the current EF)
   <li>Record number: [1..250]
   <li>Counter number: [1..83]
   <li>Counter value: [0..16777215]
   <li>Offset: [0..249] or [0..32767] for binary files (0 indicates the first byte)
   <li>Input data length: [1..250] or [1..32767] for binary files
 </ul></div>
<dl class="notes">
<dt>Since:</dt>
<dd>2.0.0</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;byte[]&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getTransactionAuditData()" class="member-name-link">getTransactionAuditData</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Returns the audit data of the transaction containing all APDU exchanges with the card and the
 cryptographic module.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="TransactionManager.html" title="type parameter in TransactionManager">T</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#prepareAppendRecord(byte,byte%5B%5D)" class="member-name-link">prepareAppendRecord</a><wbr>(byte&nbsp;sfi,
 byte[]&nbsp;recordData)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Schedules the execution of an "Append Record" command to adds the data provided in the
 indicated "cyclic" file.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="TransactionManager.html" title="type parameter in TransactionManager">T</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#prepareChangePin(byte%5B%5D)" class="member-name-link">prepareChangePin</a><wbr>(byte[]&nbsp;newPin)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Schedules the execution of a "Change PIN" command to replace the current PIN with the new value
 provided.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="TransactionManager.html" title="type parameter in TransactionManager">T</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#prepareCheckPinStatus()" class="member-name-link">prepareCheckPinStatus</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Schedules the execution of a "Verify Pin" command without PIN presentation in order to get the
 attempt counter.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="TransactionManager.html" title="type parameter in TransactionManager">T</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#prepareDecreaseCounter(byte,int,int)" class="member-name-link">prepareDecreaseCounter</a><wbr>(byte&nbsp;sfi,
 int&nbsp;counterNumber,
 int&nbsp;decValue)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Schedules the execution of a "Decrease" command to decrease the target counter.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="TransactionManager.html" title="type parameter in TransactionManager">T</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#prepareDecreaseCounters(byte,java.util.Map)" class="member-name-link">prepareDecreaseCounters</a><wbr>(byte&nbsp;sfi,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&gt;&nbsp;counterNumberToDecValueMap)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Schedules the execution of a "Decrease Multiple" command or multiple "Decrease" commands to
 decrease multiple target counters at the same time.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="TransactionManager.html" title="type parameter in TransactionManager">T</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#prepareGenerateAsymmetricKeyPair()" class="member-name-link">prepareGenerateAsymmetricKeyPair</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Schedules the execution of a "Generate Asymmetric Key Pair" command.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="TransactionManager.html" title="type parameter in TransactionManager">T</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#prepareGetData(org.eclipse.keypop.calypso.card.GetDataTag)" class="member-name-link">prepareGetData</a><wbr>(<a href="../GetDataTag.html" title="enum class in org.eclipse.keypop.calypso.card">GetDataTag</a>&nbsp;tag)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Schedules the execution of one or more "Get Data" command to retrieve the data indicated by the
 provided data type.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="TransactionManager.html" title="type parameter in TransactionManager">T</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#prepareIncreaseCounter(byte,int,int)" class="member-name-link">prepareIncreaseCounter</a><wbr>(byte&nbsp;sfi,
 int&nbsp;counterNumber,
 int&nbsp;incValue)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Schedules the execution of an "Increase" command to increase the target counter.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="TransactionManager.html" title="type parameter in TransactionManager">T</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#prepareIncreaseCounters(byte,java.util.Map)" class="member-name-link">prepareIncreaseCounters</a><wbr>(byte&nbsp;sfi,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&gt;&nbsp;counterNumberToIncValueMap)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Schedules the execution of an "Increase Multiple" command or multiple "Increase" commands to
 increase multiple target counters at the same time.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="TransactionManager.html" title="type parameter in TransactionManager">T</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#preparePutData(org.eclipse.keypop.calypso.card.PutDataTag,byte%5B%5D)" class="member-name-link">preparePutData</a><wbr>(<a href="../PutDataTag.html" title="enum class in org.eclipse.keypop.calypso.card">PutDataTag</a>&nbsp;tag,
 byte[]&nbsp;data)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Schedules the execution of one or more "Put Data" command to inject the provided data
 associated with the provided data type.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="TransactionManager.html" title="type parameter in TransactionManager">T</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#prepareReadBinary(byte,int,int)" class="member-name-link">prepareReadBinary</a><wbr>(byte&nbsp;sfi,
 int&nbsp;offset,
 int&nbsp;nbBytesToRead)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Schedules the execution of one or multiple "Read Binary" commands to read all or part of the
 indicated "binary" EF.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="TransactionManager.html" title="type parameter in TransactionManager">T</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#prepareReadCounter(byte,int)" class="member-name-link">prepareReadCounter</a><wbr>(byte&nbsp;sfi,
 int&nbsp;nbCountersToRead)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Schedules the execution of a "Read Records" command to reads a record of the indicated EF,
 which should be a "counter" file.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="TransactionManager.html" title="type parameter in TransactionManager">T</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#prepareReadRecord(byte,int)" class="member-name-link">prepareReadRecord</a><wbr>(byte&nbsp;sfi,
 int&nbsp;recordNumber)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Schedules the execution of a "Read Records" command to read a single record from the indicated
 EF.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="TransactionManager.html" title="type parameter in TransactionManager">T</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#prepareReadRecords(byte,int,int,int)" class="member-name-link">prepareReadRecords</a><wbr>(byte&nbsp;sfi,
 int&nbsp;fromRecordNumber,
 int&nbsp;toRecordNumber,
 int&nbsp;recordSize)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Schedules the execution of a "Read Records" command to read one or more records from the
 indicated EF.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="TransactionManager.html" title="type parameter in TransactionManager">T</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#prepareReadRecordsPartially(byte,int,int,int,int)" class="member-name-link">prepareReadRecordsPartially</a><wbr>(byte&nbsp;sfi,
 int&nbsp;fromRecordNumber,
 int&nbsp;toRecordNumber,
 int&nbsp;offset,
 int&nbsp;nbBytesToRead)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Schedules the execution of one or multiple "Read Record Multiple" commands to read all or parts
 of multiple records of the indicated EF.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="TransactionManager.html" title="type parameter in TransactionManager">T</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#prepareSearchRecords(org.eclipse.keypop.calypso.card.transaction.SearchCommandData)" class="member-name-link">prepareSearchRecords</a><wbr>(<a href="SearchCommandData.html" title="interface in org.eclipse.keypop.calypso.card.transaction">SearchCommandData</a>&nbsp;data)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Schedules the execution of a "Search Record Multiple" command to search data in the records of
 the indicated EF, from a given record to the last record of the file.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="TransactionManager.html" title="type parameter in TransactionManager">T</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#prepareSelectFile(short)" class="member-name-link">prepareSelectFile</a><wbr>(short&nbsp;lid)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Schedules the execution of a "Select File" command to select an EF by its LID in the current
 DF.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="TransactionManager.html" title="type parameter in TransactionManager">T</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#prepareSelectFile(org.eclipse.keypop.calypso.card.SelectFileControl)" class="member-name-link">prepareSelectFile</a><wbr>(<a href="../SelectFileControl.html" title="enum class in org.eclipse.keypop.calypso.card">SelectFileControl</a>&nbsp;selectFileControl)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Schedules the execution of a "Select File" command using a navigation selectFileControl defined
 by the ISO standard.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="TransactionManager.html" title="type parameter in TransactionManager">T</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#prepareSetCounter(byte,int,int)" class="member-name-link">prepareSetCounter</a><wbr>(byte&nbsp;sfi,
 int&nbsp;counterNumber,
 int&nbsp;newValue)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Schedules the execution of an "Increase" or "Decrease" command to set the value of the target
 counter.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="TransactionManager.html" title="type parameter in TransactionManager">T</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#prepareSvReadAllLogs()" class="member-name-link">prepareSvReadAllLogs</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Schedules the execution of "Read Records" commands to read all SV logs.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="TransactionManager.html" title="type parameter in TransactionManager">T</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#prepareUpdateBinary(byte,int,byte%5B%5D)" class="member-name-link">prepareUpdateBinary</a><wbr>(byte&nbsp;sfi,
 int&nbsp;offset,
 byte[]&nbsp;data)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Schedules the execution of one or multiple "Update Binary" command to replace the indicated
 data of a "binary" file with the new data given from the indicated offset.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="TransactionManager.html" title="type parameter in TransactionManager">T</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#prepareUpdateRecord(byte,int,byte%5B%5D)" class="member-name-link">prepareUpdateRecord</a><wbr>(byte&nbsp;sfi,
 int&nbsp;recordNumber,
 byte[]&nbsp;recordData)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Schedules the execution of an "Update Record" command to overwrites the target file's record
 contents with the provided data.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="TransactionManager.html" title="type parameter in TransactionManager">T</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#prepareVerifyPin(byte%5B%5D)" class="member-name-link">prepareVerifyPin</a><wbr>(byte[]&nbsp;pin)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Schedules the execution of a "Verify PIN" command in order to authenticate the cardholder
 and/or unlock access to certain card files.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="TransactionManager.html" title="type parameter in TransactionManager">T</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#prepareWriteBinary(byte,int,byte%5B%5D)" class="member-name-link">prepareWriteBinary</a><wbr>(byte&nbsp;sfi,
 int&nbsp;offset,
 byte[]&nbsp;data)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Schedules the execution of one or multiple "Write Binary" commands to write over the indicated
 data of a "binary" file.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="TransactionManager.html" title="type parameter in TransactionManager">T</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#prepareWriteRecord(byte,int,byte%5B%5D)" class="member-name-link">prepareWriteRecord</a><wbr>(byte&nbsp;sfi,
 int&nbsp;recordNumber,
 byte[]&nbsp;recordData)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Schedules the execution of a "Write Record" command to updates the target file's record
 contents with the result of a binary OR between the existing data and the provided data.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="TransactionManager.html" title="type parameter in TransactionManager">T</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#processCommands(org.eclipse.keypop.calypso.card.transaction.ChannelControl)" class="member-name-link">processCommands</a><wbr>(<a href="ChannelControl.html" title="enum class in org.eclipse.keypop.calypso.card.transaction">ChannelControl</a>&nbsp;channelControl)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Processes all previously prepared commands and closes the physical channel if requested.</div>
</div>
</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="prepareSelectFile(short)">
<h3>prepareSelectFile</h3>
<div class="member-signature"><span class="return-type"><a href="TransactionManager.html" title="type parameter in TransactionManager">T</a></span>&nbsp;<span class="element-name">prepareSelectFile</span><wbr><span class="parameters">(short&nbsp;lid)</span></div>
<div class="block">Schedules the execution of a "Select File" command to select an EF by its LID in the current
 DF.

 <p>Data will be available in <a href="../card/CalypsoCard.html" title="interface in org.eclipse.keypop.calypso.card.card"><code>CalypsoCard</code></a> using the <a href="../card/CalypsoCard.html#getFileBySfi(byte)"><code>CalypsoCard.getFileBySfi(byte)</code></a>/<a href="../card/CalypsoCard.html#getFileByLid(short)"><code>CalypsoCard.getFileByLid(short)</code></a> and <a href="../card/ElementaryFile.html#getHeader()"><code>ElementaryFile.getHeader()</code></a> methods.

 <p>Caution: the command will fail if the selected file is not an EF.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>lid</code> - The LID of the EF to select.</dd>
<dt>Returns:</dt>
<dd>The current instance.</dd>
<dt>Since:</dt>
<dd>1.1.0</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="prepareSelectFile(org.eclipse.keypop.calypso.card.SelectFileControl)">
<h3>prepareSelectFile</h3>
<div class="member-signature"><span class="return-type"><a href="TransactionManager.html" title="type parameter in TransactionManager">T</a></span>&nbsp;<span class="element-name">prepareSelectFile</span><wbr><span class="parameters">(<a href="../SelectFileControl.html" title="enum class in org.eclipse.keypop.calypso.card">SelectFileControl</a>&nbsp;selectFileControl)</span></div>
<div class="block">Schedules the execution of a "Select File" command using a navigation selectFileControl defined
 by the ISO standard.

 <p>Data will be available in <a href="../card/CalypsoCard.html" title="interface in org.eclipse.keypop.calypso.card.card"><code>CalypsoCard</code></a> using the <a href="../card/ElementaryFile.html#getHeader()"><code>ElementaryFile.getHeader()</code></a>
 method.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>selectFileControl</code> - A <a href="../SelectFileControl.html" title="enum class in org.eclipse.keypop.calypso.card"><code>SelectFileControl</code></a> enum entry.</dd>
<dt>Returns:</dt>
<dd>The current instance.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - If selectFileControl is null.</dd>
<dt>Since:</dt>
<dd>1.0.0</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="prepareGetData(org.eclipse.keypop.calypso.card.GetDataTag)">
<h3>prepareGetData</h3>
<div class="member-signature"><span class="return-type"><a href="TransactionManager.html" title="type parameter in TransactionManager">T</a></span>&nbsp;<span class="element-name">prepareGetData</span><wbr><span class="parameters">(<a href="../GetDataTag.html" title="enum class in org.eclipse.keypop.calypso.card">GetDataTag</a>&nbsp;tag)</span></div>
<div class="block">Schedules the execution of one or more "Get Data" command to retrieve the data indicated by the
 provided data type.

 <p>Data will be available in <a href="../card/CalypsoCard.html" title="interface in org.eclipse.keypop.calypso.card.card"><code>CalypsoCard</code></a> using the <a href="../card/ElementaryFile.html#getHeader()"><code>ElementaryFile.getHeader()</code></a>
 or <a href="../card/CalypsoCard.html#getDirectoryHeader()"><code>CalypsoCard.getDirectoryHeader()</code></a> methods, depending on the provided tag.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>tag</code> - The data type.</dd>
<dt>Returns:</dt>
<dd>The current instance.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/UnsupportedOperationException.html" title="class or interface in java.lang" class="external-link">UnsupportedOperationException</a></code> - If the Get Data command with the provided tag is not
     supported.</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - If tag is null.</dd>
<dt>Since:</dt>
<dd>1.0.0</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="preparePutData(org.eclipse.keypop.calypso.card.PutDataTag,byte[])">
<h3>preparePutData</h3>
<div class="member-signature"><span class="return-type"><a href="TransactionManager.html" title="type parameter in TransactionManager">T</a></span>&nbsp;<span class="element-name">preparePutData</span><wbr><span class="parameters">(<a href="../PutDataTag.html" title="enum class in org.eclipse.keypop.calypso.card">PutDataTag</a>&nbsp;tag,
 byte[]&nbsp;data)</span></div>
<div class="block">Schedules the execution of one or more "Put Data" command to inject the provided data
 associated with the provided data type.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>tag</code> - The data type.</dd>
<dd><code>data</code> - The data to inject.</dd>
<dt>Returns:</dt>
<dd>The current instance.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/UnsupportedOperationException.html" title="class or interface in java.lang" class="external-link">UnsupportedOperationException</a></code> - If the Put Data command with the provided tag is not
     supported.</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - If tag is null or data is empty.</dd>
<dt>Since:</dt>
<dd>2.1.0</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="prepareReadRecord(byte,int)">
<h3>prepareReadRecord</h3>
<div class="member-signature"><span class="return-type"><a href="TransactionManager.html" title="type parameter in TransactionManager">T</a></span>&nbsp;<span class="element-name">prepareReadRecord</span><wbr><span class="parameters">(byte&nbsp;sfi,
 int&nbsp;recordNumber)</span></div>
<div class="block">Schedules the execution of a "Read Records" command to read a single record from the indicated
 EF.

 <p>Data will be available in <a href="../card/CalypsoCard.html" title="interface in org.eclipse.keypop.calypso.card.card"><code>CalypsoCard</code></a> using the dedicated file and data management
 methods.

 <p>Depending on whether we are inside a secure session, there are two types of behavior
 following this command:

 <ul>
   <li>Outside a secure session (best effort mode): the following "process" command will not
       fail whatever the existence of the targeted file or record (the <a href="../card/CalypsoCard.html" title="interface in org.eclipse.keypop.calypso.card.card"><code>CalypsoCard</code></a>
       object may not be filled).
   <li>Inside a secure session in contactless mode (strict mode): the following "process"
       command will fail if the targeted file or record does not exist (the <a href="../card/CalypsoCard.html" title="interface in org.eclipse.keypop.calypso.card.card"><code>CalypsoCard</code></a>
       object is always filled or an exception is raised when the reading failed).
 </ul>

 <p><b>This method should not be used inside a secure session in contact mode</b> because
 additional exchanges with the card will be operated and will corrupt the security of the
 session. Instead, use the method <a href="#prepareReadRecords(byte,int,int,int)"><code>prepareReadRecords(byte, int, int, int)</code></a> for this case
 and provide valid parameters.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>sfi</code> - The SFI of the EF to read.</dd>
<dd><code>recordNumber</code> - The record to read.</dd>
<dt>Returns:</dt>
<dd>The current instance.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - If one of the provided arguments is out of range.</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - If this method is called inside a secure session in contact mode.</dd>
<dt>Since:</dt>
<dd>1.1.0</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="prepareReadRecords(byte,int,int,int)">
<h3>prepareReadRecords</h3>
<div class="member-signature"><span class="return-type"><a href="TransactionManager.html" title="type parameter in TransactionManager">T</a></span>&nbsp;<span class="element-name">prepareReadRecords</span><wbr><span class="parameters">(byte&nbsp;sfi,
 int&nbsp;fromRecordNumber,
 int&nbsp;toRecordNumber,
 int&nbsp;recordSize)</span></div>
<div class="block">Schedules the execution of a "Read Records" command to read one or more records from the
 indicated EF.

 <p>Data will be available in <a href="../card/CalypsoCard.html" title="interface in org.eclipse.keypop.calypso.card.card"><code>CalypsoCard</code></a> using the dedicated file and data management
 methods.

 <p>Depending on whether we are inside a secure session, there are two types of behavior
 following this command:

 <ul>
   <li>Outside a secure session (best effort mode): the following "process" command will not
       fail whatever the existence of the targeted file or record (the <a href="../card/CalypsoCard.html" title="interface in org.eclipse.keypop.calypso.card.card"><code>CalypsoCard</code></a>
       object may not be filled).
   <li>Inside a secure session (strict mode): the following "process" command will fail if the
       targeted file or record does not exist (the <a href="../card/CalypsoCard.html" title="interface in org.eclipse.keypop.calypso.card.card"><code>CalypsoCard</code></a> object is always filled
       or an exception is raised when the reading failed).<br>
       Invalid parameters could lead to additional exchanges with the card and thus corrupt the
       security of the session.
 </ul></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>sfi</code> - The SFI of the EF.</dd>
<dd><code>fromRecordNumber</code> - The number of the first record to read.</dd>
<dd><code>toRecordNumber</code> - The number of the last record to read.</dd>
<dd><code>recordSize</code> - The record length.</dd>
<dt>Returns:</dt>
<dd>The current instance.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - If one of the provided argument is out of range.</dd>
<dt>Since:</dt>
<dd>1.1.0</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="prepareReadRecordsPartially(byte,int,int,int,int)">
<h3>prepareReadRecordsPartially</h3>
<div class="member-signature"><span class="return-type"><a href="TransactionManager.html" title="type parameter in TransactionManager">T</a></span>&nbsp;<span class="element-name">prepareReadRecordsPartially</span><wbr><span class="parameters">(byte&nbsp;sfi,
 int&nbsp;fromRecordNumber,
 int&nbsp;toRecordNumber,
 int&nbsp;offset,
 int&nbsp;nbBytesToRead)</span></div>
<div class="block">Schedules the execution of one or multiple "Read Record Multiple" commands to read all or parts
 of multiple records of the indicated EF.

 <p>Data will be available in <a href="../card/CalypsoCard.html" title="interface in org.eclipse.keypop.calypso.card.card"><code>CalypsoCard</code></a> using the dedicated file and data management
 methods.

 <p>Depending on whether we are inside a secure session, there are two types of behavior
 following this command:

 <ul>
   <li>Outside a secure session (best effort mode): the following "process" command will not
       fail whatever the existence of the targeted file or the validity of the offset and number
       of bytes to read (the <a href="../card/CalypsoCard.html" title="interface in org.eclipse.keypop.calypso.card.card"><code>CalypsoCard</code></a> object may not be filled).
   <li>Inside a secure session (strict mode): the following "process" command will fail if the
       targeted file does not exist or if the offset and number of bytes to read are not valid
       (the <a href="../card/CalypsoCard.html" title="interface in org.eclipse.keypop.calypso.card.card"><code>CalypsoCard</code></a> object is always filled or an exception is raised when the
       reading failed).<br>
       Invalid parameters could lead to additional exchanges with the card and thus corrupt the
       security of the session.
 </ul></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>sfi</code> - The SFI of the EF.</dd>
<dd><code>fromRecordNumber</code> - The number of the first record to read.</dd>
<dd><code>toRecordNumber</code> - The number of the last record to read.</dd>
<dd><code>offset</code> - The offset in the records where to start reading (0 indicates the first byte).</dd>
<dd><code>nbBytesToRead</code> - The number of bytes to read from each record.</dd>
<dt>Returns:</dt>
<dd>The current instance.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/UnsupportedOperationException.html" title="class or interface in java.lang" class="external-link">UnsupportedOperationException</a></code> - If this command is not supported by this card.</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - If one of the provided argument is out of range.</dd>
<dt>Since:</dt>
<dd>1.1.0</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="prepareReadBinary(byte,int,int)">
<h3>prepareReadBinary</h3>
<div class="member-signature"><span class="return-type"><a href="TransactionManager.html" title="type parameter in TransactionManager">T</a></span>&nbsp;<span class="element-name">prepareReadBinary</span><wbr><span class="parameters">(byte&nbsp;sfi,
 int&nbsp;offset,
 int&nbsp;nbBytesToRead)</span></div>
<div class="block">Schedules the execution of one or multiple "Read Binary" commands to read all or part of the
 indicated "binary" EF.

 <p>Data will be available in <a href="../card/CalypsoCard.html" title="interface in org.eclipse.keypop.calypso.card.card"><code>CalypsoCard</code></a> using the dedicated file and data management
 methods.

 <p>Depending on whether we are inside a secure session, there are two types of behavior
 following this command:

 <ul>
   <li>Outside a secure session (best effort mode): the following "process" command will not
       fail whatever the existence of the targeted file or the validity of the offset and number
       of bytes to read (the <a href="../card/CalypsoCard.html" title="interface in org.eclipse.keypop.calypso.card.card"><code>CalypsoCard</code></a> object may not be filled).
   <li>Inside a secure session (strict mode): the following "process" command will fail if the
       targeted file does not exist or if the offset and number of bytes to read are not valid
       (the <a href="../card/CalypsoCard.html" title="interface in org.eclipse.keypop.calypso.card.card"><code>CalypsoCard</code></a> object is always filled or an exception is raised when the
       reading failed).<br>
       Invalid parameters could lead to additional exchanges with the card and thus corrupt the
       security of the session.
 </ul></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>sfi</code> - The SFI of the EF.</dd>
<dd><code>offset</code> - The offset (0 indicates the first byte).</dd>
<dd><code>nbBytesToRead</code> - The number of bytes to read.</dd>
<dt>Returns:</dt>
<dd>The current instance.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/UnsupportedOperationException.html" title="class or interface in java.lang" class="external-link">UnsupportedOperationException</a></code> - If this command is not supported by this card.</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - If one of the provided argument is out of range.</dd>
<dt>Since:</dt>
<dd>1.1.0</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="prepareReadCounter(byte,int)">
<h3>prepareReadCounter</h3>
<div class="member-signature"><span class="return-type"><a href="TransactionManager.html" title="type parameter in TransactionManager">T</a></span>&nbsp;<span class="element-name">prepareReadCounter</span><wbr><span class="parameters">(byte&nbsp;sfi,
 int&nbsp;nbCountersToRead)</span></div>
<div class="block">Schedules the execution of a "Read Records" command to reads a record of the indicated EF,
 which should be a "counter" file.

 <p>The record will be read up to the counter location indicated in parameter.<br>
 Thus, all previous counters will also be read.

 <p>Data will be available in <a href="../card/CalypsoCard.html" title="interface in org.eclipse.keypop.calypso.card.card"><code>CalypsoCard</code></a> using the dedicated file and data management
 methods.

 <p>Depending on whether we are inside a secure session, there are two types of behavior
 following this command:

 <ul>
   <li>Outside a secure session (best effort mode): the following "process" command will not
       fail whatever the existence of the targeted file or counter (the <a href="../card/CalypsoCard.html" title="interface in org.eclipse.keypop.calypso.card.card"><code>CalypsoCard</code></a>
       object may not be filled).
   <li>Inside a secure session (strict mode): the following "process" command will fail if the
       targeted file or counter does not exist (the <a href="../card/CalypsoCard.html" title="interface in org.eclipse.keypop.calypso.card.card"><code>CalypsoCard</code></a> object is always filled
       or an exception is raised when the reading failed).<br>
       Invalid parameters could lead to additional exchanges with the card and thus corrupt the
       security of the session.
 </ul></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>sfi</code> - The SFI of the EF.</dd>
<dd><code>nbCountersToRead</code> - The number of counters to read.</dd>
<dt>Returns:</dt>
<dd>The current instance.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - If one of the provided argument is out of range.</dd>
<dt>Since:</dt>
<dd>1.1.0</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="prepareSearchRecords(org.eclipse.keypop.calypso.card.transaction.SearchCommandData)">
<h3>prepareSearchRecords</h3>
<div class="member-signature"><span class="return-type"><a href="TransactionManager.html" title="type parameter in TransactionManager">T</a></span>&nbsp;<span class="element-name">prepareSearchRecords</span><wbr><span class="parameters">(<a href="SearchCommandData.html" title="interface in org.eclipse.keypop.calypso.card.transaction">SearchCommandData</a>&nbsp;data)</span></div>
<div class="block">Schedules the execution of a "Search Record Multiple" command to search data in the records of
 the indicated EF, from a given record to the last record of the file. It will return the list
 of record numbers containing these data, and if requested it will read the first record
 content.

 <p>The command is only possible with a "linear", "cyclic", Counters or Simulated "counter" EF.

 <p>The command searches if the given data are present in the records of the file. During the
 search, an optional mask is applied. The mask allows to specify precisely the bits to be taken
 into account in the comparison.

 <p>See <a href="SearchCommandData.html" title="interface in org.eclipse.keypop.calypso.card.transaction"><code>SearchCommandData</code></a> class for a description of the parameters.

 <p>Once this command is processed, the result is available in the provided input/output <a href="SearchCommandData.html" title="interface in org.eclipse.keypop.calypso.card.transaction"><code>SearchCommandData</code></a> object, and the content of the first matching record in <a href="../card/CalypsoCard.html" title="interface in org.eclipse.keypop.calypso.card.card"><code>CalypsoCard</code></a>
 if requested.

 <p>Depending on whether we are inside a secure session, there are two types of behavior
 following this command:

 <ul>
   <li>Outside a secure session (best effort mode): the following "process" command will not
       fail whatever the existence of the targeted file or the validity of the record number and
       offset (the <a href="SearchCommandData.html" title="interface in org.eclipse.keypop.calypso.card.transaction"><code>SearchCommandData</code></a> and <a href="../card/CalypsoCard.html" title="interface in org.eclipse.keypop.calypso.card.card"><code>CalypsoCard</code></a> objects may not be
       updated).
   <li>Inside a secure session (strict mode): the following "process" command will fail if the
       targeted file does not exist or if the record number and the offset are not valid (the
       <a href="SearchCommandData.html" title="interface in org.eclipse.keypop.calypso.card.transaction"><code>SearchCommandData</code></a> and <a href="../card/CalypsoCard.html" title="interface in org.eclipse.keypop.calypso.card.card"><code>CalypsoCard</code></a> objects are always filled or an
       exception is raised when the reading failed).
 </ul></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>data</code> - The input/output data containing the parameters of the command.</dd>
<dt>Returns:</dt>
<dd>The current instance.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/UnsupportedOperationException.html" title="class or interface in java.lang" class="external-link">UnsupportedOperationException</a></code> - If the "Search Record Multiple" command is not available
     for this card.</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - If the input data is inconsistent.</dd>
<dt>Since:</dt>
<dd>1.1.0</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="SearchCommandData.html" title="interface in org.eclipse.keypop.calypso.card.transaction"><code>SearchCommandData</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="prepareCheckPinStatus()">
<h3>prepareCheckPinStatus</h3>
<div class="member-signature"><span class="return-type"><a href="TransactionManager.html" title="type parameter in TransactionManager">T</a></span>&nbsp;<span class="element-name">prepareCheckPinStatus</span>()</div>
<div class="block">Schedules the execution of a "Verify Pin" command without PIN presentation in order to get the
 attempt counter.

 <p>The PIN status will be available in <a href="../card/CalypsoCard.html" title="interface in org.eclipse.keypop.calypso.card.card"><code>CalypsoCard</code></a> using the <a href="../card/CalypsoCard.html#getPinAttemptRemaining()"><code>CalypsoCard.getPinAttemptRemaining()</code></a> and <a href="../card/CalypsoCard.html#isPinBlocked()"><code>CalypsoCard.isPinBlocked()</code></a> methods.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The current instance.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/UnsupportedOperationException.html" title="class or interface in java.lang" class="external-link">UnsupportedOperationException</a></code> - If the PIN feature is not available for this card.</dd>
<dt>Since:</dt>
<dd>1.0.0</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="prepareAppendRecord(byte,byte[])">
<h3>prepareAppendRecord</h3>
<div class="member-signature"><span class="return-type"><a href="TransactionManager.html" title="type parameter in TransactionManager">T</a></span>&nbsp;<span class="element-name">prepareAppendRecord</span><wbr><span class="parameters">(byte&nbsp;sfi,
 byte[]&nbsp;recordData)</span></div>
<div class="block">Schedules the execution of an "Append Record" command to adds the data provided in the
 indicated "cyclic" file.

 <p>A new record is added, the oldest record is deleted.

 <p>Data will be available in <a href="../card/CalypsoCard.html" title="interface in org.eclipse.keypop.calypso.card.card"><code>CalypsoCard</code></a> using the dedicated file and data management
 methods.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>sfi</code> - The sfi to select.</dd>
<dd><code>recordData</code> - The new record data to write.</dd>
<dt>Returns:</dt>
<dd>The current instance.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - If one of the provided argument is out of range.</dd>
<dd><code><a href="SessionBufferOverflowException.html" title="class in org.eclipse.keypop.calypso.card.transaction">SessionBufferOverflowException</a></code> - If the command will overflow the modifications buffer
     size and the multiple session is not allowed.</dd>
<dt>Since:</dt>
<dd>1.0.0</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="prepareUpdateRecord(byte,int,byte[])">
<h3>prepareUpdateRecord</h3>
<div class="member-signature"><span class="return-type"><a href="TransactionManager.html" title="type parameter in TransactionManager">T</a></span>&nbsp;<span class="element-name">prepareUpdateRecord</span><wbr><span class="parameters">(byte&nbsp;sfi,
 int&nbsp;recordNumber,
 byte[]&nbsp;recordData)</span></div>
<div class="block">Schedules the execution of an "Update Record" command to overwrites the target file's record
 contents with the provided data.

 <p>If the input data is shorter than the record size, only the first bytes will be overwritten.

 <p>Data will be available in <a href="../card/CalypsoCard.html" title="interface in org.eclipse.keypop.calypso.card.card"><code>CalypsoCard</code></a> using the dedicated file and data management
 methods.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>sfi</code> - The sfi to select.</dd>
<dd><code>recordNumber</code> - The record to update.</dd>
<dd><code>recordData</code> - The new record data. If length <code>&lt;</code> RecSize, bytes beyond length are.
     left unchanged.</dd>
<dt>Returns:</dt>
<dd>The current instance.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - If one of the provided argument is out of range.</dd>
<dd><code><a href="SessionBufferOverflowException.html" title="class in org.eclipse.keypop.calypso.card.transaction">SessionBufferOverflowException</a></code> - If the command will overflow the modifications buffer
     size and the multiple session is not allowed.</dd>
<dt>Since:</dt>
<dd>1.0.0</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="prepareWriteRecord(byte,int,byte[])">
<h3>prepareWriteRecord</h3>
<div class="member-signature"><span class="return-type"><a href="TransactionManager.html" title="type parameter in TransactionManager">T</a></span>&nbsp;<span class="element-name">prepareWriteRecord</span><wbr><span class="parameters">(byte&nbsp;sfi,
 int&nbsp;recordNumber,
 byte[]&nbsp;recordData)</span></div>
<div class="block">Schedules the execution of a "Write Record" command to updates the target file's record
 contents with the result of a binary OR between the existing data and the provided data.

 <p>If the input data is shorter than the record size, only the first bytes will be overwritten.

 <p>Data will be available in <a href="../card/CalypsoCard.html" title="interface in org.eclipse.keypop.calypso.card.card"><code>CalypsoCard</code></a> using the dedicated file and data management
 methods.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>sfi</code> - The sfi to select.</dd>
<dd><code>recordNumber</code> - The record to write.</dd>
<dd><code>recordData</code> - The data to overwrite in the record. If length <code>&lt;</code> RecSize, bytes.
     beyond length are left unchanged.</dd>
<dt>Returns:</dt>
<dd>The current instance.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - If one of the provided argument is out of range.</dd>
<dd><code><a href="SessionBufferOverflowException.html" title="class in org.eclipse.keypop.calypso.card.transaction">SessionBufferOverflowException</a></code> - If the command will overflow the modifications buffer
     size and the multiple session is not allowed.</dd>
<dt>Since:</dt>
<dd>1.0.0</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="prepareUpdateBinary(byte,int,byte[])">
<h3>prepareUpdateBinary</h3>
<div class="member-signature"><span class="return-type"><a href="TransactionManager.html" title="type parameter in TransactionManager">T</a></span>&nbsp;<span class="element-name">prepareUpdateBinary</span><wbr><span class="parameters">(byte&nbsp;sfi,
 int&nbsp;offset,
 byte[]&nbsp;data)</span></div>
<div class="block">Schedules the execution of one or multiple "Update Binary" command to replace the indicated
 data of a "binary" file with the new data given from the indicated offset.

 <p>The data of the file before the offset and after the data given are left unchanged.

 <p>Data will be available in <a href="../card/CalypsoCard.html" title="interface in org.eclipse.keypop.calypso.card.card"><code>CalypsoCard</code></a> using the dedicated file and data management
 methods.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>sfi</code> - The SFI of the EF to select.</dd>
<dd><code>offset</code> - The offset (0 indicates the first byte).</dd>
<dd><code>data</code> - The new data.</dd>
<dt>Returns:</dt>
<dd>The current instance.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/UnsupportedOperationException.html" title="class or interface in java.lang" class="external-link">UnsupportedOperationException</a></code> - If this command is not supported by this card.</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - If one of the provided argument is out of range.</dd>
<dd><code><a href="SessionBufferOverflowException.html" title="class in org.eclipse.keypop.calypso.card.transaction">SessionBufferOverflowException</a></code> - If the command will overflow the modifications buffer
     size and the multiple session is not allowed.</dd>
<dt>Since:</dt>
<dd>1.1.0</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="prepareWriteBinary(byte,int,byte[])">
<h3>prepareWriteBinary</h3>
<div class="member-signature"><span class="return-type"><a href="TransactionManager.html" title="type parameter in TransactionManager">T</a></span>&nbsp;<span class="element-name">prepareWriteBinary</span><wbr><span class="parameters">(byte&nbsp;sfi,
 int&nbsp;offset,
 byte[]&nbsp;data)</span></div>
<div class="block">Schedules the execution of one or multiple "Write Binary" commands to write over the indicated
 data of a "binary" file. The new data will be the result of a binary OR operation between the
 existing data and the data given in the command from the indicated offset.

 <p>The data of the file before the offset and after the data given are left unchanged.

 <p>Data will be available in <a href="../card/CalypsoCard.html" title="interface in org.eclipse.keypop.calypso.card.card"><code>CalypsoCard</code></a> using the dedicated file and data management
 methods.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>sfi</code> - The SFI of the EF to select.</dd>
<dd><code>offset</code> - The offset (0 indicates the first byte).</dd>
<dd><code>data</code> - The data to write over the existing data.</dd>
<dt>Returns:</dt>
<dd>The current instance.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/UnsupportedOperationException.html" title="class or interface in java.lang" class="external-link">UnsupportedOperationException</a></code> - If this command is not supported by this card.</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - If one of the provided argument is out of range.</dd>
<dd><code><a href="SessionBufferOverflowException.html" title="class in org.eclipse.keypop.calypso.card.transaction">SessionBufferOverflowException</a></code> - If the command will overflow the modifications buffer
     size and the multiple session is not allowed.</dd>
<dt>Since:</dt>
<dd>1.1.0</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="prepareIncreaseCounter(byte,int,int)">
<h3>prepareIncreaseCounter</h3>
<div class="member-signature"><span class="return-type"><a href="TransactionManager.html" title="type parameter in TransactionManager">T</a></span>&nbsp;<span class="element-name">prepareIncreaseCounter</span><wbr><span class="parameters">(byte&nbsp;sfi,
 int&nbsp;counterNumber,
 int&nbsp;incValue)</span></div>
<div class="block">Schedules the execution of an "Increase" command to increase the target counter.

 <p>If several counters of the same file have to be incremented at the same time of the
 transaction, it is recommended to use the method <a href="#prepareIncreaseCounters(byte,java.util.Map)"><code>prepareIncreaseCounters(byte, Map)</code></a>
 for optimization reasons.

 <p>Data will be available in <a href="../card/CalypsoCard.html" title="interface in org.eclipse.keypop.calypso.card.card"><code>CalypsoCard</code></a> using the dedicated file and data management
 methods.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>sfi</code> - SFI of the EF to select.</dd>
<dd><code>counterNumber</code> - The number of the counter (must be zero in case of a simulated counter).</dd>
<dd><code>incValue</code> - Value to add to the counter (defined as a positive int <code>&lt;=</code> 16777215
     [FFFFFFh])</dd>
<dt>Returns:</dt>
<dd>The current instance.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - If one of the provided argument is out of range.</dd>
<dd><code><a href="SessionBufferOverflowException.html" title="class in org.eclipse.keypop.calypso.card.transaction">SessionBufferOverflowException</a></code> - If the command will overflow the modifications buffer
     size and the multiple session is not allowed.</dd>
<dt>Since:</dt>
<dd>1.0.0</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="prepareIncreaseCounters(byte,java.util.Map)">
<h3>prepareIncreaseCounters</h3>
<div class="member-signature"><span class="return-type"><a href="TransactionManager.html" title="type parameter in TransactionManager">T</a></span>&nbsp;<span class="element-name">prepareIncreaseCounters</span><wbr><span class="parameters">(byte&nbsp;sfi,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&gt;&nbsp;counterNumberToIncValueMap)</span></div>
<div class="block">Schedules the execution of an "Increase Multiple" command or multiple "Increase" commands to
 increase multiple target counters at the same time.

 <p>The decision to execute one or the other command is made according to the type of card.

 <p>Data will be available in <a href="../card/CalypsoCard.html" title="interface in org.eclipse.keypop.calypso.card.card"><code>CalypsoCard</code></a> using the dedicated file and data management
 methods.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>sfi</code> - SFI of the EF to select.</dd>
<dd><code>counterNumberToIncValueMap</code> - The map containing the counter numbers to be incremented and
     their associated increment values.</dd>
<dt>Returns:</dt>
<dd>The current instance.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - If one of the provided argument is out of range or if the map
     is null or empty.</dd>
<dd><code><a href="SessionBufferOverflowException.html" title="class in org.eclipse.keypop.calypso.card.transaction">SessionBufferOverflowException</a></code> - If the command will overflow the modifications buffer
     size and the multiple session is not allowed.</dd>
<dt>Since:</dt>
<dd>1.1.0</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="prepareDecreaseCounter(byte,int,int)">
<h3>prepareDecreaseCounter</h3>
<div class="member-signature"><span class="return-type"><a href="TransactionManager.html" title="type parameter in TransactionManager">T</a></span>&nbsp;<span class="element-name">prepareDecreaseCounter</span><wbr><span class="parameters">(byte&nbsp;sfi,
 int&nbsp;counterNumber,
 int&nbsp;decValue)</span></div>
<div class="block">Schedules the execution of a "Decrease" command to decrease the target counter.

 <p>If several counters of the same file have to be decremented at the same time of the
 transaction, it is recommended to use the method <a href="#prepareDecreaseCounters(byte,java.util.Map)"><code>prepareDecreaseCounters(byte, Map)</code></a>
 for optimization reasons.

 <p>Data will be available in <a href="../card/CalypsoCard.html" title="interface in org.eclipse.keypop.calypso.card.card"><code>CalypsoCard</code></a> using the dedicated file and data management
 methods.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>sfi</code> - SFI of the EF to select.</dd>
<dd><code>counterNumber</code> - The number of the counter (must be zero in case of a simulated counter).</dd>
<dd><code>decValue</code> - Value to subtract to the counter (defined as a positive int <code>&lt;=</code> 16777215
     [FFFFFFh])</dd>
<dt>Returns:</dt>
<dd>The current instance.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - If one of the provided argument is out of range.</dd>
<dd><code><a href="SessionBufferOverflowException.html" title="class in org.eclipse.keypop.calypso.card.transaction">SessionBufferOverflowException</a></code> - If the command will overflow the modifications buffer
     size and the multiple session is not allowed.</dd>
<dt>Since:</dt>
<dd>1.0.0</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="prepareDecreaseCounters(byte,java.util.Map)">
<h3>prepareDecreaseCounters</h3>
<div class="member-signature"><span class="return-type"><a href="TransactionManager.html" title="type parameter in TransactionManager">T</a></span>&nbsp;<span class="element-name">prepareDecreaseCounters</span><wbr><span class="parameters">(byte&nbsp;sfi,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&gt;&nbsp;counterNumberToDecValueMap)</span></div>
<div class="block">Schedules the execution of a "Decrease Multiple" command or multiple "Decrease" commands to
 decrease multiple target counters at the same time.

 <p>The decision to execute one or the other command is made according to the type of card.

 <p>Data will be available in <a href="../card/CalypsoCard.html" title="interface in org.eclipse.keypop.calypso.card.card"><code>CalypsoCard</code></a> using the dedicated file and data management
 methods.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>sfi</code> - SFI of the EF to select.</dd>
<dd><code>counterNumberToDecValueMap</code> - The map containing the counter numbers to be decremented and
     their associated decrement values.</dd>
<dt>Returns:</dt>
<dd>The current instance.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - If one of the provided argument is out of range or if the map
     is null or empty.</dd>
<dd><code><a href="SessionBufferOverflowException.html" title="class in org.eclipse.keypop.calypso.card.transaction">SessionBufferOverflowException</a></code> - If the command will overflow the modifications buffer
     size and the multiple session is not allowed.</dd>
<dt>Since:</dt>
<dd>1.1.0</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="prepareSetCounter(byte,int,int)">
<h3>prepareSetCounter</h3>
<div class="member-signature"><span class="return-type"><a href="TransactionManager.html" title="type parameter in TransactionManager">T</a></span>&nbsp;<span class="element-name">prepareSetCounter</span><wbr><span class="parameters">(byte&nbsp;sfi,
 int&nbsp;counterNumber,
 int&nbsp;newValue)</span></div>
<div class="block">Schedules the execution of an "Increase" or "Decrease" command to set the value of the target
 counter.

 <p>The operation (Increase or Decrease) is selected according to whether the difference between
 the current value and the desired value is negative (Increase) or positive (Decrease).

 <p>Data will be available in <a href="../card/CalypsoCard.html" title="interface in org.eclipse.keypop.calypso.card.card"><code>CalypsoCard</code></a> using the dedicated file and data management
 methods.

 <p>Note: it is assumed here that:<br>

 <ul>
   <li>the counter value has been read before,
   <li>the type of session (and associated access rights) is consistent with the requested
       operation: reload session if the counter is to be incremented, debit if it is to be
       decremented.<br>
       No control is performed on this point by this method; the closing of the session will
       determine the success of the operation..
 </ul></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>counterNumber</code> - <code>&gt;=</code> 1: Counters file, number of the counter. 0: Simulated "counter"
     file.</dd>
<dd><code>sfi</code> - SFI of the EF to select.</dd>
<dd><code>newValue</code> - The desired value for the counter (defined as a positive int <code>&lt;=</code>
     16777215 [FFFFFFh])</dd>
<dt>Returns:</dt>
<dd>The current instance.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - If one of the provided argument is out of range.</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - If the current counter value is unknown.</dd>
<dd><code><a href="SessionBufferOverflowException.html" title="class in org.eclipse.keypop.calypso.card.transaction">SessionBufferOverflowException</a></code> - If the command will overflow the modifications buffer
     size and the multiple session is not allowed.</dd>
<dt>Since:</dt>
<dd>1.0.0</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="prepareSvReadAllLogs()">
<h3>prepareSvReadAllLogs</h3>
<div class="member-signature"><span class="return-type"><a href="TransactionManager.html" title="type parameter in TransactionManager">T</a></span>&nbsp;<span class="element-name">prepareSvReadAllLogs</span>()</div>
<div class="block">Schedules the execution of "Read Records" commands to read all SV logs.

 <p>Note: this method requires that the selected application is of type Store Value (file
 structure 20h).

 <p>The SV transaction logs are contained in two files with fixed identifiers:

 <ul>
   <li>The file whose SFI is 14h contains 1 record containing the unique reload log.
   <li>The file whose SFI is 15h contains 3 records containing the last three debit logs.
 </ul>

 <p>Data will be available in <a href="../card/CalypsoCard.html" title="interface in org.eclipse.keypop.calypso.card.card"><code>CalypsoCard</code></a> in raw format using the dedicated file and
 data management methods or in the form of dedicated objects using the <a href="../card/CalypsoCard.html#getSvLoadLogRecord()"><code>CalypsoCard.getSvLoadLogRecord()</code></a> and <a href="../card/CalypsoCard.html#getSvDebitLogAllRecords()"><code>CalypsoCard.getSvDebitLogAllRecords()</code></a> methods.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The current instance.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/UnsupportedOperationException.html" title="class or interface in java.lang" class="external-link">UnsupportedOperationException</a></code> - If the SV feature is not available for this card.</dd>
<dt>Since:</dt>
<dd>1.0.0</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="prepareVerifyPin(byte[])">
<h3>prepareVerifyPin</h3>
<div class="member-signature"><span class="return-type"><a href="TransactionManager.html" title="type parameter in TransactionManager">T</a></span>&nbsp;<span class="element-name">prepareVerifyPin</span><wbr><span class="parameters">(byte[]&nbsp;pin)</span></div>
<div class="block">Schedules the execution of a "Verify PIN" command in order to authenticate the cardholder
 and/or unlock access to certain card files.

 <p>This command can be performed both in and out of a secure session. The PIN code can be
 transmitted in plain text or encrypted according to the parameter set in <a href="SymmetricCryptoSecuritySetting.html" title="interface in org.eclipse.keypop.calypso.card.transaction"><code>SymmetricCryptoSecuritySetting</code></a>.

 <p>The PIN status will be available in <a href="../card/CalypsoCard.html" title="interface in org.eclipse.keypop.calypso.card.card"><code>CalypsoCard</code></a> using the <a href="../card/CalypsoCard.html#getPinAttemptRemaining()"><code>CalypsoCard.getPinAttemptRemaining()</code></a> and <a href="../card/CalypsoCard.html#isPinBlocked()"><code>CalypsoCard.isPinBlocked()</code></a> methods.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>pin</code> - The PIN code value (4-byte long byte array).</dd>
<dt>Returns:</dt>
<dd>The current instance.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/UnsupportedOperationException.html" title="class or interface in java.lang" class="external-link">UnsupportedOperationException</a></code> - If the PIN feature is not available for this card.</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - If the provided argument is out of range.</dd>
<dt>Since:</dt>
<dd>1.6.0</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="prepareChangePin(byte[])">
<h3>prepareChangePin</h3>
<div class="member-signature"><span class="return-type"><a href="TransactionManager.html" title="type parameter in TransactionManager">T</a></span>&nbsp;<span class="element-name">prepareChangePin</span><wbr><span class="parameters">(byte[]&nbsp;newPin)</span></div>
<div class="block">Schedules the execution of a "Change PIN" command to replace the current PIN with the new value
 provided.

 <p>This command can be performed only out of a secure session. The new PIN code can be
 transmitted in plain text or encrypted according to the parameter set in <a href="SymmetricCryptoSecuritySetting.html" title="interface in org.eclipse.keypop.calypso.card.transaction"><code>SymmetricCryptoSecuritySetting</code></a>.

 <p>When the PIN is transmitted plain, this command must be preceded by a successful Verify PIN
 command (see <a href="#prepareVerifyPin(byte%5B%5D)"><code>prepareVerifyPin(byte[])</code></a>).

 <p>The PIN status will be available in <a href="../card/CalypsoCard.html" title="interface in org.eclipse.keypop.calypso.card.card"><code>CalypsoCard</code></a> using the <a href="../card/CalypsoCard.html#getPinAttemptRemaining()"><code>CalypsoCard.getPinAttemptRemaining()</code></a> and <a href="../card/CalypsoCard.html#isPinBlocked()"><code>CalypsoCard.isPinBlocked()</code></a> methods.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>newPin</code> - The new PIN code value (4-byte long byte array).</dd>
<dt>Returns:</dt>
<dd>The current instance.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/UnsupportedOperationException.html" title="class or interface in java.lang" class="external-link">UnsupportedOperationException</a></code> - If the PIN feature is not available for this card.</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - If the provided argument is out of range.</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - If the command is executed while a secure session is open.</dd>
<dt>Since:</dt>
<dd>1.6.0</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="prepareGenerateAsymmetricKeyPair()">
<h3>prepareGenerateAsymmetricKeyPair</h3>
<div class="member-signature"><span class="return-type"><a href="TransactionManager.html" title="type parameter in TransactionManager">T</a></span>&nbsp;<span class="element-name">prepareGenerateAsymmetricKeyPair</span>()</div>
<div class="block">Schedules the execution of a "Generate Asymmetric Key Pair" command.

 <p>After the execution, the generated key pair will be stored internally into the card. The
 public part can be retrieved via <a href="#prepareGetData(org.eclipse.keypop.calypso.card.GetDataTag)"><code>prepareGetData(GetDataTag)</code></a>.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The current instance.</dd>
<dt>Since:</dt>
<dd>2.1.0</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="processCommands(org.eclipse.keypop.calypso.card.transaction.ChannelControl)">
<h3>processCommands</h3>
<div class="member-signature"><span class="return-type"><a href="TransactionManager.html" title="type parameter in TransactionManager">T</a></span>&nbsp;<span class="element-name">processCommands</span><wbr><span class="parameters">(<a href="ChannelControl.html" title="enum class in org.eclipse.keypop.calypso.card.transaction">ChannelControl</a>&nbsp;channelControl)</span></div>
<div class="block">Processes all previously prepared commands and closes the physical channel if requested.

 <p>All APDUs corresponding to the prepared commands are sent to the card, their responses are
 retrieved and used to update the <a href="../card/CalypsoCard.html" title="interface in org.eclipse.keypop.calypso.card.card"><code>CalypsoCard</code></a> associated with the transaction.

 <p>For write commands, the <a href="../card/CalypsoCard.html" title="interface in org.eclipse.keypop.calypso.card.card"><code>CalypsoCard</code></a> is updated only when the command is successful.

 <p>The process is interrupted at the first failed command.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>channelControl</code> - Policy for managing the physical channel after executing commands to the
     card.</dd>
<dt>Returns:</dt>
<dd>The current instance.</dd>
<dt>Throws:</dt>
<dd><code><a href="ReaderIOException.html" title="class in org.eclipse.keypop.calypso.card.transaction">ReaderIOException</a></code> - If a communication error with the card reader or the cryptographic
     module reader occurs.</dd>
<dd><code><a href="CardIOException.html" title="class in org.eclipse.keypop.calypso.card.transaction">CardIOException</a></code> - If a communication error with the card occurs.</dd>
<dd><code><a href="CryptoIOException.html" title="class in org.eclipse.keypop.calypso.card.transaction">CryptoIOException</a></code> - If a communication error with the cryptographic module occurs.</dd>
<dd><code><a href="CryptoException.html" title="class in org.eclipse.keypop.calypso.card.transaction">CryptoException</a></code> - If an error with the cryptographic module occurs.</dd>
<dd><code><a href="UnexpectedCommandStatusException.html" title="class in org.eclipse.keypop.calypso.card.transaction">UnexpectedCommandStatusException</a></code> - If a command returns an unexpected status.</dd>
<dd><code><a href="InconsistentDataException.html" title="class in org.eclipse.keypop.calypso.card.transaction">InconsistentDataException</a></code> - If inconsistent data have been detected.</dd>
<dd><code><a href="UnauthorizedKeyException.html" title="class in org.eclipse.keypop.calypso.card.transaction">UnauthorizedKeyException</a></code> - If the card requires an unauthorized session key.</dd>
<dd><code><a href="CardSignatureNotVerifiableException.html" title="class in org.eclipse.keypop.calypso.card.transaction">CardSignatureNotVerifiableException</a></code> - If a secure session is open and multiple session
     mode is enabled and an intermediate session is correctly closed but the cryptographic
     module is no longer available to verify the card MAC.</dd>
<dd><code><a href="InvalidCardSignatureException.html" title="class in org.eclipse.keypop.calypso.card.transaction">InvalidCardSignatureException</a></code> - If the card signature is incorrect. In the case of a card
     transaction secured by "symmetrical" cryptography (e.g. SAM), this indicates that the card
     has correctly closed the secure session, but the card session is not authentic because the
     MAC of the card is incorrect.</dd>
<dd><code><a href="SelectFileException.html" title="class in org.eclipse.keypop.calypso.card.transaction">SelectFileException</a></code> - If a "Select File" prepared card command indicated that the file
     was not found.</dd>
<dt>Since:</dt>
<dd>1.6.0</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getTransactionAuditData()">
<h3>getTransactionAuditData</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;byte[]&gt;</span>&nbsp;<span class="element-name">getTransactionAuditData</span>()</div>
<div class="block">Returns the audit data of the transaction containing all APDU exchanges with the card and the
 cryptographic module.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>An empty list if there is no audit data.</dd>
<dt>Since:</dt>
<dd>1.2.0</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &copy; Eclipse Foundation, Inc. All Rights Reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
